# MySQL 开发规范

#### 无规范不成方圆，规范是为了让大家形成统一共识，并遵守共识，消除隐患，提升稳定性、性能

- **使用InnoDB存储引擎，支持事务、行级锁、外键**
- **使用utf8mb4字符集，排序规则：utf8mb4_0900_ai_ci，支持特殊字符、表情、生僻字**
- **库名、表名，统一小写字母+下划线，长度32个字符以内**
- **单实例表数量500以内，单表列数量30以内**
- **表必须有主键，禁止使用uuid、varchar作为主键**
- **禁用存储过程、函数、视图、触发器、外键、定时任务**
- **字段设置非空默认值**
- **字段数据类型越小越好**
- **不同表中相同字段名称、类型应统一**
- **禁止使用text、blob大字段类型**
- **单表索引控制在5个以内，善于使用组合索引**
- **禁止使用select \***
- **禁止负向查询**
- **禁止%开头的模糊查询**
- **应用账号遵守select、insert、update、delete原则**
- **临时表、备份表以tmp为前缀，以日期为后缀**
- **库、表、列要有注释**
- **多次ALTER操作合并为一次**
- **表包括创建时间、修改时间、状态，时间字段使用时间属性**
- **小数点使用decimal、bigint，禁止使用float、double**
- **禁止全表UPDATE、DELETE**
- **insert 须指定列名**
- **禁止使用保留字**
- **禁止深度limit**
- **业务数据的乐观锁，增加version字段，通过where判断**
- **禁止存储图片、文件**
- **禁止测试、生产直连**
- **敏感信息加密存储**
- **禁止更新主键**
- **普通索引使用idx_字段名称_字段名称命名**
- **唯一索引使用uniq_字段名称_字段名称命名**
- **禁止在更新频繁的列上创建索引**
- **禁止在低基数列创建索引**
- **禁止大表JOIN**
- **用union all而不是union**
- **禁止单条SQL同时更新多个表**
- **控制INSERT|UPDATE|DELETE事务个数在2000以内**
- **控制in个数在200以内**
- **禁止在主库执行统计类、后台管理类查询**
- **应用账号与管理账号分开管理**
- **大促、推广提前通知DBA保障**
- **禁止使用OR条件，可以改为UNION ALL或者IN**
- **禁止跨库操作**

#### 关于开发规范就介绍完成了，有需要的小伙伴们赶紧用起来吧！

&nbsp;

**有兴趣的小伙伴，可加联系方式：Telegram：@dean_code** 
