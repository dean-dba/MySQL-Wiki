# MySQL 索引

### MySQL 索引是基于聚集索引表上建立各种索引类型，主要目的是为了加快DQL速度，但会降低DML的速度，在OLTP系统中，读通常大于写，所有这种取舍是值得的

#### MySQL 索引类型
- **主键索引：** 每个表只支持创建一个主键索引，主键索引可以是多列组合，通常不参与业务，与auto_increment配合使用
- **唯一索引：** 每个表可以创建多个唯一索引，与主键索引最大的区别是唯一索引可以为空
- **二级索引：** 表中使用最多的索引类型，支持单列、多列
- **JSON索引：** 8.0开始原生支持在json列上创建索引，底层实现仍然是基于5.7版本的虚拟生成列，只是做了封装，不再需要显示定义
- **HASH索引：** memory存储引擎支持的一种索引类型
- **空间索引：** 基于R-tree算法的一种索引类型
- **不可见索引：** 主要应用场景是调试不同索引间的差异时，可以先将索引置为不可见，不参与优化器的CBO计算模型，便于大表中删除、新增索引带来的时间成本
- **函数索引：** 8.0开始支持的一种索引类型，可以在列上使用函数创建函数索引
- **降序索引：** 8.0开始支持降序索引，原来都是正序排序，即使使用降序语法desc，也会忽略，转为正序
- **前缀索引：** 将列中字段值的前一部分值作业索引的一种索引类型，主要应用场景是大内容字段
- **全文索引：** 类似于ES功能实现的一种索引类型，但建议有此应用场景的还是基于ES建立自己的搜推、算法业务

#### 索引创建过程
1.**扫描聚集索引表，生成索引数据，并放入排序缓冲区，排序缓冲区满时，会写入临时磁盘文件，排序缓冲区大小受参数："innodb_ddl_buffer_size(默认：1MB)"控制**
2.
